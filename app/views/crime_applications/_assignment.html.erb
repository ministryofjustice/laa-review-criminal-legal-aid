<dl class="govuk-summary-list">
  <dd class="govuk-summary-list__value govuk-!-width-one-half govuk-!-padding-0 govuk-body-l">
    <div class="govuk-row">
      <% if crime_application.reviewer_name %>
        <strong><%= t(:reviewed_by, scope: 'crime_applications.labels') %></strong>
        <%= crime_application.reviewer_name %>
      <% else %>
        <strong><%= t(:assigned_to, scope: 'crime_applications.labels') %></strong>
        <%= crime_application.assignee_name || t(:unassigned, scope: 'values.assigned_status') %>
      <% end %>
    </div>

    <div class="govuk-row">
      <strong><%= t(:date_received, scope: 'crime_applications.labels') %></strong>
      <%= crime_application.submitted_at.strftime('%d %B %Y') %>
    </div>

    <% if crime_application.reviewed? %>
      <div class="govuk-row">
        <strong><%= t(crime_application.review_status, scope: 'labels.date') %></strong>
        <%= crime_application.reviewed_at&.strftime('%d %B %Y') %>
      </div>
    <% end %>
  </dd>

  <% unless crime_application.reviewed? %>
    <dd class="govuk-summary-list__action">
      <% if crime_application.unassigned? %>
        <%= button_to t('calls_to_action.assign_to_self'),
                      assigned_applications_path(
                        crime_application_id: crime_application.id
                      ),
                      method: :post,
                      class: 'govuk-button govuk-button--secondary govuk-!-margin-top-1' %>
      <% else %>
        <% if crime_application.assigned_to?(current_user_id) %>
          <%= button_to t('calls_to_action.unassign_from_self'),
                        assigned_application_path(crime_application),
                        method: :delete,
                        class: 'govuk-button govuk-button--secondary' %>
        <% else %>
          <%= button_to t('calls_to_action.reassign_to_self'),
                        new_crime_application_reassign_path(
                          crime_application.id
                        ),
                        method: :get,
                        class: 'govuk-button govuk-button--secondary' %>
        <% end %>
      <% end %>
    <% end %>
  </dd>
</dl>
